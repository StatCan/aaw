
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Developer Docs">
      
      
      
        <link rel="canonical" href="https://statcan.github.io/aaw/en/Aaw%20Kubeflow%20Profiles%20Controller/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.5">
    
    
      
        <title>profiles-controller - AAW Dev Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="yellow" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#profiles-controller" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="AAW Dev Docs" class="md-header__button md-logo" aria-label="AAW Dev Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AAW Dev Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              profiles-controller
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/StatCan/aaw" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    StatCan/aaw
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="AAW Dev Docs" class="md-nav__button md-logo" aria-label="AAW Dev Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    AAW Dev Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/StatCan/aaw" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    StatCan/aaw
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Object Storage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Object Storage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/object-storage/s3proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3Proxy and S3 Explorer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/object-storage/blobcsi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blob CSI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/cloud-main-connectivity/cloud-main-connectivity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Main Connectivity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/data-virtualization/trino/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Virtualization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RBAC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            RBAC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/rbac/non-employee-rbac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Non-Employee RBAC
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/source-control/gitea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source Control
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Resources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-create-a-controller" class="md-nav__link">
    <span class="md-ellipsis">
      How to Create a Controller
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controllers-that-deploy-per-namespace-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Controllers that Deploy Per-Namespace Applications
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terminology" class="md-nav__link">
    <span class="md-ellipsis">
      Terminology
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#details" class="md-nav__link">
    <span class="md-ellipsis">
      Details
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controllers" class="md-nav__link">
    <span class="md-ellipsis">
      Controllers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Controllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authpolicygo" class="md-nav__link">
    <span class="md-ellipsis">
      authpolicy.go
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blob-csigo" class="md-nav__link">
    <span class="md-ellipsis">
      blob-csi.go
    </span>
  </a>
  
    <nav class="md-nav" aria-label="blob-csi.go">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-development" class="md-nav__link">
    <span class="md-ellipsis">
      Local Development
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#giteago" class="md-nav__link">
    <span class="md-ellipsis">
      gitea.go
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gitea.go">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gitea-user-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Gitea User Interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration_1" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#limitrangego" class="md-nav__link">
    <span class="md-ellipsis">
      limitrange.go
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#networkgo" class="md-nav__link">
    <span class="md-ellipsis">
      network.go
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notebookgo" class="md-nav__link">
    <span class="md-ellipsis">
      notebook.go
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quotasgo" class="md-nav__link">
    <span class="md-ellipsis">
      quotas.go
    </span>
  </a>
  
    <nav class="md-nav" aria-label="quotas.go">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quota-labels" class="md-nav__link">
    <span class="md-ellipsis">
      Quota Labels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rbacgo" class="md-nav__link">
    <span class="md-ellipsis">
      rbac.go
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rootgo" class="md-nav__link">
    <span class="md-ellipsis">
      root.go
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="profiles-controller">profiles-controller<a class="headerlink" href="#profiles-controller" title="Permanent link">&para;</a></h1>
<p>This repository implements custom controllers for watching <code>Profile</code> resources from Kubeflow.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The diagram below illustrates how profiles controller components are rolled out on the cluster.[^1][^2]<a href="Moby" title="Docker) icon provided by [icons8](https://icons8.com/icons/set/docker">^3</a></p>
<p><img alt="Kubeflow Profile Controller Overview" src="docs/diagrams/profiles_controller_overview.png" /></p>
<p>[^1]: Gitlab icons provided by <a href="https://about.gitlab.com/press/press-kit/">Gitlab Press Kit</a>.
[^2]: Github icons provided by <a href="https://github.com/logos">Github logos</a>.
[^3]: Argo icon provided by <a href="https://cncf-branding.netlify.app/projects/argo/">CNCF branding</a>.</p>
<p>[^5]: Terraform icon provided by <a href="https://www.hashicorp.com/brand">hashicorp</a>
[^6]: Kubeflow icon provided by <a href="https://www.kubeflow.org/images/logo.svg">kubeflow</a>
[^7]: Istio icons provided by <a href="https://istio.io/latest/about/media-resources/">Istio Media Resources</a></p>
<h3 id="how-to-create-a-controller">How to Create a Controller<a class="headerlink" href="#how-to-create-a-controller" title="Permanent link">&para;</a></h3>
<p><strong>Note</strong>: Modifying a controller is a subset of these steps; if you are only updating an existing controller, ignore the steps that don't apply.</p>
<ol>
<li>Create a <code>.go</code> file in the <code>cmd</code> folder of <strong>this</strong> repository with the name of your controller. Your controller must create a <code>cobra.Command</code> and register it with the <code>rootCmd</code> of the application. Your controller will be invoked with the entrypoint <code>./profiles-controller &lt;your controller name&gt;</code>.</li>
<li>Modify the profiles-controller helm chart in the <a href="https://github.com/StatCan/charts">StatCan charts</a> repo. Add the deployment containing your new controller and update the <code>values.yaml</code> file accordingly with any new parameters specific to your container. <strong>Don't forget to increment the helm chart version if you made changes to the helm chart</strong>.</li>
<li>Once your new controller is ready, merge your branch to the <code>main</code> branch of <strong>this</strong> repository. A Github action in <strong>this</strong> repository runs a build job (see <code>.github/workflows/build.yml</code>) that builds the profiles-controller container image and pushes it to Azure container registry. The pushed image is tagged with the commit SHA of the git commit that triggered the Github Action.</li>
<li>Go to the build job in the Github action and copy the commit SHA that the image is tagged with to your clipboard. This can be found at the top of the step called <strong>Run docker build</strong> in the <strong>build</strong> job.</li>
<li>Go to the <a href="https://github.com/StatCan/aaw-argocd-manifests">aaw-argocd-manifests</a> repository and open the <code>application.jsonnet</code> file that deploys the <code>profiles-controller</code> ArgoCD application in the <code>daaas-system</code> namespace. In this file, paste the commit SHA from the previous step to the <code>image.tag</code> field. This updates the image tag for the base image used by the <code>profiles-controller</code> deployment. Note that you can make this edit directly through Github's editing features. This edit should be merged into either the <code>aaw-dev-cc-00</code> branch or the <code>aaw-prod-cc-00</code> branch depending on whether the update applies to the dev or prod environments. The <code>profiles-controller</code> ArgoCD application watches for changes to the <code>application.jsonnet</code> file on these branches.</li>
</ol>
<h3 id="controllers-that-deploy-per-namespace-applications">Controllers that Deploy Per-Namespace Applications<a class="headerlink" href="#controllers-that-deploy-per-namespace-applications" title="Permanent link">&para;</a></h3>
<p>Some controllers deploy per-namespace applications for each user (e.g. Gitea, S3Proxy). In this case, a few additional steps may be required.</p>
<ol>
<li>The <code>profiles-argocd-system</code> folder of the <a href="https://github.com/StatCan/aaw-argocd-manifests">aaw-argocd-manifests</a> repository contains manifests that get deployed by per-namespace ArgoCD applications. The intended pattern is that Kubernetes manifests are applied directly with Kustomize patches as required.</li>
<li>Depending on what a particular per-namespace application looks like, there may be a manual step required where a developer must build the manifests by, for example, templating a helm chart and saving the output in a <code>manifest.yaml</code> file. In this case, a PR must be made to either the <code>aaw-dev-cc-00</code> or <code>aaw-prod-cc-00</code> branches of the aaw-argocd-manifests repo with the newly build <code>manifest.yaml</code> file.</li>
</ol>
<h2 id="terminology">Terminology<a class="headerlink" href="#terminology" title="Permanent link">&para;</a></h2>
<p>Helpful links to k8s resources, technologies and other terminologies related to this project are provided below.</p>
<ul>
<li><a href="https://www.kubeflow.org/docs/components/multi-tenancy/getting-started/">Profile</a></li>
<li><a href="https://istio.io/latest/docs/reference/config/security/authorization-policy/#Source">Istio AuthorizationPolicy</a></li>
<li><a href="https://kubernetes.io/docs/concepts/policy/limit-range/">LimitRange</a></li>
<li><a href="https://kubernetes.io/docs/concepts/policy/resource-quotas/">ResourceQuotas</a></li>
<li><a href="https://www.kubeflow.org/docs/components/notebooks/overview/">Kubeflow Notebook</a></li>
<li><a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/">Roles and RoleBinding (RBAC)</a></li>
<li><a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">Labels</a></li>
<li><a href="https://github.com/kubernetes-sigs/blob-csi-driver">Blob CSI Driver</a></li>
<li><a href="https://www.openpolicyagent.org/">Open Policy Agent (OPA)</a></li>
</ul>
<h2 id="details">Details<a class="headerlink" href="#details" title="Permanent link">&para;</a></h2>
<p>The profiles controller uses <a href="https://github.com/kubernetes/client-go/tree/master/tools/cache">client-go library</a> extensively.
The details of interaction points of the profiles controller with various mechanisms from this library are
explained <a href="docs/controller-client-go.md">here</a>.</p>
<h2 id="controllers">Controllers<a class="headerlink" href="#controllers" title="Permanent link">&para;</a></h2>
<p>The <a href="./cmd">cmd</a> package contains source files for a variety of profile controllers for Kubeflow.</p>
<p>For more information about profile controllers, see the documentation for the <a href="https://github.com/kubernetes/client-go/">client-go</a> library, which contains a variety of mechanisms for use when
developing custom profile controllers. The mechanisms are defined in the
<a href="https://github.com/kubernetes/client-go/tree/master/tools/cache">tools/cache folder</a> of the library.</p>
<h3 id="authpolicygo"><a href="./cmd/authpolicy.go">authpolicy.go</a><a class="headerlink" href="#authpolicygo" title="Permanent link">&para;</a></h3>
<p>Responsible for creating, removing and updating <a href="https://istio.io/latest/docs/reference/config/security/authorization-policy/#Source">Istio Authorization Policies</a> using the <a href="https://github.com/istio/client-go">Istio client</a> for a given <code>Profile</code>. Currently, the only <code>AuthorizationPolicy</code> is to block upload/download from protected-b <code>Notebook</code>'s.</p>
<h3 id="blob-csigo"><a href="./cmd/blob-csi.go">blob-csi.go</a><a class="headerlink" href="#blob-csigo" title="Permanent link">&para;</a></h3>
<p>Creates an Azure Blob Storage container for a user in a few storage accounts (e.g. <code>standard</code>, <code>protected-b</code>, etc.) and binds a PersistentVolume to the container using the <a href="https://github.com/kubernetes-sigs/blob-csi-driver">blob-csi driver</a>. This relies on secrets stored in a system namespace --- secrets are not accessible by users. The controller also creates a PVC in the users namespace bound to this specific PV.</p>
<ul>
<li>Supports read-write and read-only PersistentVolumes using mountOptions.</li>
<li>PVCs are ReadWriteMany or ReadOnlyMany, respectively</li>
<li>Supports both protected-b and unclassified mounts.</li>
</ul>
<p>In addition, the controller is responsible for managing links from <code>PersistentVolume</code>'s to any buckets from Fair Data Infrastructure (FDI) Section of DAaas.  This is accomplished by querying unclassified and protected-b <code>OPA</code> gateways which return <code>json</code> responses containing buckets along with permissions. The controller parses the returned <code>json</code>, creating a <code>PersistentVolume</code> and <code>PersistentVolumeClaim</code> for each bucket in accordance with the permission constraints.</p>
<h4 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h4>
<ul>
<li><code>BLOB_CSI_FDI_OPA_DAEMON_TICKER_MILLIS</code>: the time interval at which the opa gateways are queried, in milliseconds.</li>
<li><code>BLOB_CSI_FDI_UNCLASS_OPA_ENDPOINT</code>: the http address pointing to the unclassified OPA gateway.</li>
<li><code>BLOB_CSI_FDI_UNCLASS_SPN_SECRET_NAME</code>: the name of a secret containing data <code>azurestoragespnclientsecret: value</code>,
where value is a secret registered under the unclassified FDI service principal.</li>
<li><code>BLOB_CSI_FDI_UNCLASS_SPN_SECRET_NAMESPACE</code>: the namespace the above secret is contained in.</li>
<li><code>BLOB_CSI_FDI_UNCLASS_PV_STORAGE_CAP</code>: the storage capacity for FDI PV's in Terabytes.</li>
<li><code>BLOB_CSI_FDI_UNCLASS_AZURE_STORAGE_AUTH_TYPE</code>: for the current implementation, only <code>spn</code> auth type is supported</li>
<li><code>BLOB_CSI_FDI_UNCLASS_AZURE_STORAGE_AAD_ENDPOINT</code>: the azure active directory endpoint</li>
<li><code>BLOB_CSI_FDI_PROTECTED_B_OPA_ENDPOINT</code>: the http address pointing to the protected-b OPA gateway.</li>
<li><code>BLOB_CSI_FDI_PROTECTED_B_SPN_SECRET_NAME</code>: the name of a secret containing data <code>azurestoragespnclientsecret: value</code>,
where value is a secret registered under the protected-b FDI service principal.</li>
<li><code>BLOB_CSI_FDI_PROTECTED_B_SPN_SECRET_NAMESPACE</code>: the namespace the above secret is contained in.</li>
<li><code>BLOB_CSI_FDI_PROTECTED_B_PV_STORAGE_CAP</code>: the storage capacity for FDI PV's in Terabytes.</li>
<li><code>BLOB_CSI_FDI_PROTECTED_B_AZURE_STORAGE_AUTH_TYPE</code>: for the current implementation, only <code>spn</code> auth type is supported</li>
<li><code>BLOB_CSI_FDI_PROTECTED_B_AZURE_STORAGE_AAD_ENDPOINT</code>: the azure active directory endpoint</li>
</ul>
<p>For more context on the blob-csi system as a whole, see <a href="https://github.com/StatCan/aaw-developer-docs/blob/main/docs/features/object-storage/blobcsi.md">here</a></p>
<h4 id="local-development">Local Development<a class="headerlink" href="#local-development" title="Permanent link">&para;</a></h4>
<p>The <a href="./Taskfile.yml">Taskfile</a> includes task <code>blobcsi:dev</code> for preparing your local environment for development and testing. Due to the controller's dependency on Azure <a href="https://github.com/kubernetes-sigs/blob-csi-driver">blob-csi driver</a> a cluster with the <a href="https://github.com/kubernetes-sigs/blob-csi-driver">blob-csi driver</a> installed is required. As such, it is recommended to debug and test against the development k8s context for AAW. With the local environment configured, the Vscode Debugger can be used through <code>Run and Debug: blobcsi Controller</code> in the debug pane.</p>
<h3 id="giteago"><a href="./cmd/gitea.go">gitea.go</a><a class="headerlink" href="#giteago" title="Permanent link">&para;</a></h3>
<p>Responsible for deploying <a href="https://github.com/go-gitea/gitea">gitea</a> as <a href="https://github.com/argoproj/argo-cd">argocd</a> applications per <code>Profile</code>. Currently, <a href="https://github.com/argoproj/argo-cd">argocd</a> applications are deployed by the gitea controller based on the customized gitea manifest found <a href="https://github.com/StatCan/aaw-argocd-manifests/tree/aaw-dev-cc-00/profiles-argocd-system/template/gitea">here</a>.</p>
<p>The diagram below highlights the key components involved with the Gitea controller</p>
<p><img alt="Gitea Controller Diagram" src="docs/diagrams/gitea_controller.png" /></p>
<h4 id="gitea-user-interface">Gitea User Interface<a class="headerlink" href="#gitea-user-interface" title="Permanent link">&para;</a></h4>
<p>The unclassified Gitea user interface is embedded within the <a href="https://github.com/StatCan/aaw-kubeflow-manifests/blob/aaw-dev-cc-00/kustomize/apps/centraldashboard/base/centraldashboard-config.yaml">Kubeflow dashboard</a>'s user interface, rendered by an iframe. Protected-b gitea is setup to be accessible only through a protected-b node, and thus the user is expected to access their protected-b gitea instance within an AAW ubuntu VM, or through the CLI in a protected-b notebook.</p>
<p>Requests to a namespace's Gitea server are made to the Kubeflow base url with the suffix <code>/gitea-unclassified/?ns=&lt;user-namespace&gt;</code>, where the user's namespace is passed as an http parameter. An Istio Virtual Service created by the <code>gitea.go</code> controller contains an http route that redirects traffic from <code>/gitea-unclassified/?ns=&lt;user-namespace&gt;</code> to <code>/gitea-unclassified/&lt;user-namespace&gt;/</code>. A second http route routes traffic from <code>/gitea-unclassified/&lt;user-namespace&gt;/</code> to the Gitea instance in the user's namespace.</p>
<p>The <a href="https://github.com/StatCan/aaw-argocd-manifests/blob/aaw-dev-cc-00/profiles-argocd-system/template/gitea/">Gitea application server</a> sets the <code>ROOT_URL</code> environment variable to contain the Kubeflow base URL with the <code>/gitea-unclassified/&lt;user-namespace&gt;/</code>. This is required as it is the application's responsibility to establish the URLS that will be used in the browser to retrieve static assets and send requests to application endpoints.</p>
<p>The Gitea application <a href="https://github.com/StatCan/aaw-argocd-manifests/blob/aaw-dev-cc-00/profiles-argocd-system/template/gitea/values.yaml#L37-L45">values.yaml file</a> makes use of <a href="https://kubernetes.io/docs/tasks/inject-data-application/environment-variable-expose-pod-information/">pod fields as environment variables</a> and <a href="https://kubernetes.io/docs/tasks/inject-data-application/define-interdependent-environment-variables/#define-an-environment-dependent-variable-for-a-container">dependent environment variables</a> to create a <code>ROOT_URL</code> that depends on the user's namespace. Additionally, an <a href="https://github.com/go-gitea/gitea/issues/6397">upstream gitea issue</a> indicates that it is possible to set multiple domains in the <code>ROOT_URL</code> environment variable by using the syntax <code>ROOT_URL=https://(domain1,domain2)/gitea/</code>, which is how the dev/prod domains are set without needing to check the deployment environment.</p>
<p>To allow requests to reach the user's Gitea instance, a Network Policy is set in the user's namespace that allows ingress traffic from the kubeflow-gateway to be sent to any pods in the user's namespace that match the <code>app: gitea &amp;&amp; app.kubernetes.io/instance: gitea-unclassified</code> label selector.</p>
<h4 id="configuration_1">Configuration<a class="headerlink" href="#configuration_1" title="Permanent link">&para;</a></h4>
<p>The Gitea controller is configurable to run in unclassified or protected-b mode. The configuration of the following
parameters thus need set to run the controller:</p>
<ul>
<li><code>GITEA_CLASSIFICATION</code>: the classification the controller should be running against. Currently, <code>unclassified</code> and <code>protected-b</code> are supported
as values.</li>
<li><code>GITEA_PSQL_PORT</code>: port of the postgres instance the gitea application will connect to</li>
<li><code>GITEA_PSQL_ADMIN_UNAME</code>: username of a priviledged user within the postgres instance</li>
<li><code>GITEA_PSQL_ADMIN_PASSWD</code>: password for the above user</li>
<li><code>GITEA_PSQL_MAINTENANCE_DB</code>: maintenance DB name in the postgres instance</li>
<li><code>GITEA_SERVICE_URL</code>: internal Gitea URL is specified in
  <a href="https://github.com/StatCan/aaw-argocd-manifests/blob/aaw-dev-cc-00/profiles-argocd-system/template/gitea/manifest.yaml#L350">here</a></li>
<li><code>GITEA_URL_PREFIX</code>: url prefix for redirecting gitea</li>
<li><code>GITEA_SERVICE_PORT</code>: the port exposed by gitea service, as specified
  <a href="https://github.com/StatCan/aaw-argocd-manifests/blob/aaw-dev-cc-00/profiles-argocd-system/template/gitea/manifest.yaml#L365">here</a></li>
<li><code>GITEA_BANNER_CONFIGMAP_NAME</code>: gitea banner configmap name (configmap which corresponds to the banner at the top of the gitea ui)</li>
<li><code>GITEA_ARGOCD_NAMESPACE</code>:  namespace for arcocd instance that the controller will install applications into</li>
<li><code>GITEA_ARGOCD_SOURCE_REPO_URL</code>: repository url containing the gitea deployment manifest</li>
<li><code>GITEA_ARGOCD_SOURCE_TARGET_REVISION</code>: git branch to deploy from</li>
<li><code>GITEA_ARGOCD_SOURCE_PATH</code>: path to the manifest from the root of the git source repo</li>
<li><code>GITEA_ARGOCD_PROJECT</code>: argocd instances's project to deploy applications within</li>
<li><code>GITEA_SOURCE_CONTROL_ENABLED_LABEL</code>: this label will be searched for within profiles to indicate if a user has opted in.</li>
<li><code>GITEA_KUBEFLOW_ROOT_URL</code>: the url for kubeflow's central dashboard (for dev: https://kubeflow.aaw-dev.cloud.statcan.ca, for production: https://kubeflow.aaw.cloud.statcan.ca)</li>
</ul>
<p>Within AAW, these variables are defined in the <a href="https://github.com/StatCan/charts/blob/master/stable/profiles-controller/values.yaml">statcan charts repo</a>, and they are configured within the dev <a href="https://github.com/StatCan/aaw-argocd-manifests/blob/aaw-dev-cc-00/daaas-system/profile-controllers/profiles-controller/application.jsonnet">argocd-manifests-repo</a> or prod <a href="https://github.com/StatCan/aaw-argocd-manifests/blob/aaw-prod-cc-00/daaas-system/profile-controllers/profiles-controller/application.jsonnet">argocd-manifests-repo</a>.</p>
<h3 id="limitrangego"><a href="./cmd/limitrange.go">limitrange.go</a><a class="headerlink" href="#limitrangego" title="Permanent link">&para;</a></h3>
<p>Responsible for creating, removing and updating <code>LimitRange</code> resources for a given profile. <code>LimitRange</code> resources are generated to limit the cpu and memory resources for the kubeflow profile's default container. <code>LimitRange</code> resources require the implementation of a controller managing <code>ResourceQuotas</code>, which is provided in this package (see <a href="./cmd/quotas.go">quotas.go</a>). Implementing <code>LimitRange</code> resources allows any Pod to run associated with the <code>Profile</code>, restricted by a <code>ResourceQuota</code>.</p>
<h3 id="networkgo"><a href="./cmd/network.go">network.go</a><a class="headerlink" href="#networkgo" title="Permanent link">&para;</a></h3>
<p>Responsible for the following networking policies:</p>
<ul>
<li>Ingress from the ingress gateway</li>
<li>Ingress from knative-serving</li>
<li>Egress to the cluster local gateway</li>
<li>Egress from unclassified workloads</li>
<li>Egress from unclassified workloads to the ingress gateway</li>
<li>Egress to port 443 from protected-b workloads</li>
<li>Egress to vault</li>
<li>Egress to pipelines</li>
<li>Egress to Elasticsearch</li>
<li>Egress to Artifactory</li>
</ul>
<h3 id="notebookgo"><a href="./cmd/notebook.go">notebook.go</a><a class="headerlink" href="#notebookgo" title="Permanent link">&para;</a></h3>
<p>Responsible for the configuration of <code>Notebook</code> resources within Kubeflow. This controller adds a default option for running a protected-b <code>Notebook</code>.</p>
<h3 id="quotasgo"><a href="./cmd/quotas.go">quotas.go</a><a class="headerlink" href="#quotasgo" title="Permanent link">&para;</a></h3>
<p>Responsible for the generation of <code>ResourceQuotas</code> for a given profile. Management of <code>ResourceQuotas</code> is essential, as it provides the constraint for total amount of compute resources that are consumable within the <code>Profile</code>. Since the <code>ResourceQuotas</code> definition included in <a href="./cmd/quotas.go">quotas.go</a> provides constraints for cpu and memory, the limits for the values must be defined. These limits are defined as <code>LimitRange</code> resources and are managed by <a href="./cmd/limitrange.go">limitrange.go</a>.</p>
<h4 id="quota-labels"><a href="https://github.com/StatCan/aaw-kubeflow-profiles-controller/issues/16">Quota Labels</a><a class="headerlink" href="#quota-labels" title="Permanent link">&para;</a></h4>
<p>In order for ArgoCD to sync <code>Profile</code> resources, the <code>/metadata/labels/</code> field needed to be ignored. However, this field is required in <code>ResourceQuota</code> resource generation. A <code>Label</code> is provided for each type of quota below, which allows <code>ResourceQuotas</code> to be overidden by the controller for each resource type:</p>
<ul>
<li>quotas.statcan.gc.ca/requests.cpu</li>
<li>quotas.statcan.gc.ca/limits.cpu</li>
<li>quotas.statcan.gc.ca/requests.memory</li>
<li>quotas.statcan.gc.ca/limits.memory</li>
<li>quotas.statcan.gc.ca/requests.storage</li>
<li>quotas.statcan.gc.ca/pods</li>
<li>quotas.statcan.gc.ca/services.nodeports</li>
<li>quotas.statcan.gc.ca/services.loadbalancers</li>
</ul>
<p>A special case is considered for overriding gpu resources. Although the label <code>quotas.statcan.gc.ca/gpu</code> exists for the given <code>Profile</code>, the label <code>requests.nvidia.com/gpu</code> is overidden.</p>
<h3 id="rbacgo"><a href="./cmd/rbac.go">rbac.go</a><a class="headerlink" href="#rbacgo" title="Permanent link">&para;</a></h3>
<p>Responsible for the generation of <code>Roles</code> and <code>RoleBinding</code> resources for a given profile.</p>
<p>A <code>Role</code> is created for each <code>Profile</code>, the following <code>RoleBinding</code>'s are created:</p>
<ul>
<li><code>ml-pipeline</code> role binding for the <code>Profile</code>.</li>
<li><code>DAaas-AAW-Support</code> is granted a profile-support cluster role in the namespace for support purposes.</li>
</ul>
<h3 id="rootgo"><a href="./cmd/root.go">root.go</a><a class="headerlink" href="#rootgo" title="Permanent link">&para;</a></h3>
<p>The root interface for the profile controllers.</p>
<h2 id="deployment">Deployment<a class="headerlink" href="#deployment" title="Permanent link">&para;</a></h2>
<p>A helm chart for deploying the profile controllers can be found <a href="https://github.com/StatCan/charts/tree/master/stable/profiles-controller">here</a>.
Each controller has a corresponding k8s manifest.</p>
<h1 id="link">Link<a class="headerlink" href="#link" title="Permanent link">&para;</a></h1>
<p><a href="https://github.com/StatCan/aaw-kubeflow-profiles-controller">aaw-kubeflow-profiles-controller</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 Statistics Canada
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/StatCan/aaw" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://statcan-aaw.slack.com" target="_blank" rel="noopener" title="statcan-aaw.slack.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c18c5fb9.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>